{
	"apps": [
		{
			"name": "staff.rnet.cf",
			"script": "src/index.js",
			"watch": false,
			"exec_mode": "fork",
			"ignore_watch": [
				"node_modules",
				".git",
				"public",
				"views",
				"package.json"
			],
			"watch_options": {
				"followSymlinks": false
			},
			"wait-ready": true,
			"listen_timeout" : 5000
		}
	],
	"deploy": {
		"alpha": {
			"user": "rnet",
			"host": "10.12.0.73",
			"ref": "origin/develop",
			"repo": "-b develop https://github.com/ReadOnlyNet/RNet-web.git",
			"path": "/home/rnet/deploy/alpha/",
			"pre-setup": "rm -rf /home/rnet/deploy/alpha/*",
			"post-deploy": "npm i && gulp sass && cd react && yarn && yarn build:prod && cd .. && cp /home/rnet/RNet-web/.env ./.env && mkdir /home/rnet/RNet-web-temp/ && cp -rf /home/rnet/deploy/alpha/source/. /home/rnet/RNet-web-temp && rm -rf /home/rnet/old.RNet-web && mv /home/rnet/RNet-web /home/rnet/old.RNet-web && mv /home/rnet/RNet-web-temp /home/rnet/RNet-web && pm2 restart staff.rnet.cf"
		}
	}
}